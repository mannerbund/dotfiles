{
  services.zapret = {
    enable = true;
    httpSupport = false;
    udpSupport = true;
    udpPorts = ["443"];
    configureFirewall = true;
    whitelist = [
      "flibusta.is"
      "audiobookbay.lu"
      "goodreads.com"
      "cloudflare-ech.com"
      "news.google.com"
      "zona.media"
      "catbox.moe"
      "dis.gd"
      "discord-attachments-uploads-prd.storage.googleapis.com"
      "discord.app"
      "discord.co"
      "discord.com"
      "discord.design"
      "discord.dev"
      "discord.gift"
      "discord.gifts"
      "discord.gg"
      "discord.media"
      "discord.new"
      "discord.store"
      "discord.status"
      "discord-activities.com"
      "discordactivities.com"
      "discordapp.com"
      "discordapp.net"
      "discordcdn.com"
      "discordmerch.com"
      "discordpartygames.com"
      "discordsays.com"
      "discordsez.com"
      "yt3.ggpht.com"
      "yt4.ggpht.com"
      "yt3.googleusercontent.com"
      "googlevideo.com"
      "jnn-pa.googleapis.com"
      "stable.dl2.discordapp.net"
      "wide-youtube.l.google.com"
      "youtube-nocookie.com"
      "youtube-ui.l.google.com"
      "youtube.com"
      "youtubeembeddedplayer.googleapis.com"
      "youtubekids.com"
      "youtubei.googleapis.com"
      "youtu.be"
      "yt-video-upload.l.google.com"
      "ytimg.com"
      "ytimg.l.google.com"
      "frankerfacez.com"
      "ffzap.com"
      "betterttv.net"
      "7tv.app"
      "7tv.io"
      "rr1---sn-4g5edndr.googlevideo.com"
      "rr2---sn-ug5onuxaxjvh-n8v6.googlevideo.com"
      "rr2---sn-ug5onuxaxjvh-n8vs.googlevideo.com"
      "rr2---sn-ug5onuxaxjvh-n8vz.googlevideo.com"
      "rr3---sn-4g5edndy.googlevideo.com"
      "rr3---sn-ug5onuxaxjvh-n8v6.googlevideo.com"
      "rr3---sn-ug5onuxaxjvh-n8vs.googlevideo.com"
      "rr3---sn-ug5onuxaxjvh-n8vz.googlevideo.com"
      "rr4---sn-ug5onuxaxjvh-n8v6.googlevideo.com"
      "rr4---sn-ug5onuxaxjvh-n8vs.googlevideo.com"
      "rr4---sn-ug5onuxaxjvh-n8vz.googlevideo.com"
      "rr5---sn-ug5onuxaxjvh-n8v6.googlevideo.com"
      "rr5---sn-ug5onuxaxjvh-n8vs.googlevideo.com"
      "rr5---sn-ug5onuxaxjvh-n8vz.googlevideo.com"
      "rr6---sn-ug5onuxaxjvh-n8v6.googlevideo.com"
      "rr6---sn-ug5onuxaxjvh-n8vs.googlevideo.com"
      "rr6---sn-ug5onuxaxjvh-n8vz.googlevideo.com"
      "rr7---sn-ug5onuxaxjvh-n8v6.googlevideo.com"
      "rr7---sn-ug5onuxaxjvh-n8vs.googlevideo.com"
      "rr7---sn-ug5onuxaxjvh-n8vz.googlevideo.com"
      "rr8---sn-ug5onuxaxjvh-n8v6.googlevideo.com"
      "rr8---sn-ug5onuxaxjvh-n8vs.googlevideo.com"
      "rr8---sn-ug5onuxaxjvh-n8vz.googlevideo.com"
    ];
    params = [
      "--dpi-desync=fake,disorder"
      "--dpi-desync-ttl=1"
      "--dpi-desync-autottl=-3"
      "--dpi-desync-repeats=6"
      "--dpi-desync-fake-tls=0x00000000"
      "--dpi-desync-fake-tls=!"
      "--dpi-desync-fake-tls-mod=rnd,rndsni,dupsid"
    ];
  };
}
